<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProspectPulse - AI Sales Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#ff6b35',
                        'primary-hover': '#e55a2b',
                        'secondary': '#34495e',
                        'accent': '#3b82f6',
                        'success': '#10b981',
                        'warning': '#f59e0b',
                        'surface': '#ffffff',
                        'background': '#f8fafc',
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 2s infinite',
                        'fade-in': 'fadeIn 0.6s ease-out',
                        'slide-up': 'slideUp 0.4s ease-out',
                        'scale-in': 'scaleIn 0.3s ease-out',
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
        }
        .ai-glow {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
        }
        .typing-indicator {
            animation: typing 1.5s infinite;
        }
        @keyframes typing {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        .lightning-flash {
            animation: lightningFlash 2s infinite;
        }
        @keyframes lightningFlash {
            0% { opacity: 0.3; transform: rotate(0deg); }
            10% { opacity: 1; transform: rotate(0deg); }
            20% { opacity: 0.3; transform: rotate(0deg); }
            30% { opacity: 1; transform: rotate(0deg); }
            40% { opacity: 0.3; transform: rotate(0deg); }
            50% { opacity: 0.3; transform: rotate(45deg); }
            100% { opacity: 0.3; transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-background min-h-screen">
    <!-- Hero Section with Search -->
    <div class="min-h-screen gradient-bg relative overflow-hidden">
        <!-- Animated Background Elements -->
        <div class="absolute inset-0">
            <div class="absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"></div>
            <div class="absolute bottom-20 right-20 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 1s;"></div>
            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-purple-400/10 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 2s;"></div>
        </div>

        <!-- Header -->
        <header class="relative z-10 p-6">
            <div class="flex items-center justify-between max-w-7xl mx-auto">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-xl flex items-center justify-center shadow-lg">
                        <span class="text-white font-bold text-lg">PP</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-white">ProspectPulse</h1>
                        <p class="text-white/70 text-sm">AI Sales Intelligence</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2 text-white/80">
                    <div class="w-2 h-2 bg-success rounded-full animate-pulse"></div>
                    <span class="text-sm">AI Ready</span>
                </div>
            </div>
        </header>

        <!-- Main Search Interface -->
        <div class="relative z-10 flex items-center justify-center min-h-[80vh] px-6">
            <div class="w-full max-w-2xl">
                <!-- Main Title -->
                <div class="text-center mb-12 animate-fade-in">
                    <h2 class="text-5xl md:text-6xl font-bold text-white mb-6 leading-tight">
                        Know Your
                        <span class="bg-gradient-to-r from-primary to-yellow-400 bg-clip-text text-transparent">
                            Prospects
                        </span>
                        <br>In Seconds
                    </h2>
                    <p class="text-xl text-white/80 mb-8 max-w-lg mx-auto">
                        AI-powered sales intelligence that transforms company names into actionable insights
                    </p>
                </div>

                <!-- Search Interface -->
                <div id="searchContainer" class="glass-effect rounded-2xl p-8 shadow-2xl ai-glow animate-scale-in">
                    <div class="flex flex-col space-y-6">
                        <!-- Single Input Field -->
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 256 256">
                                    <path d="m229.66,218.34-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>
                                </svg>
                            </div>
                            <input
                                type="text"
                                id="companyInput"
                                placeholder="Enter company name or website (e.g., KFC, McDonald's, starbucks.com)"
                                class="w-full pl-12 pr-4 py-3.5 text-base bg-white border border-gray-300 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200"
                                autocomplete="off"
                            />
                        </div>

                        <!-- Action Button -->
                        <button
                            id="analyzeBtn"
                            onclick="startAnalysis()"
                            class="w-full bg-primary hover:bg-primary-hover text-white font-medium py-3.5 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 hover:shadow-lg flex items-center justify-center space-x-2 text-base"
                        >
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 256 256">
                                <path d="M215.79,118.17a8,8,0,0,0-5-5.66L153.18,90.9l14.66-73.33a8,8,0,0,0-13.69-7l-112,120a8,8,0,0,0,3,13l57.63,21.61L88.16,238.43a8,8,0,0,0,13.69,7l112-120A8,8,0,0,0,215.79,118.17ZM109.37,214l10.47-52.38a8,8,0,0,0-5-9.06L62,132.71l84.62-90.66L136.16,94.43a8,8,0,0,0,5,9.06l52.8,19.8Z"/>
                            </svg>
                            <span>Analyze with AI</span>
                        </button>

                        <!-- Quick Examples -->
                        <div class="flex flex-wrap gap-2 justify-center">
                            <span class="text-sm text-gray-500">Try:</span>
                            <button onclick="setExample('KFC Singapore')" class="text-sm text-primary hover:text-primary-hover font-medium">KFC Singapore</button>
                            <span class="text-gray-300">•</span>
                            <button onclick="setExample('Starbucks')" class="text-sm text-primary hover:text-primary-hover font-medium">Starbucks</button>
                            <span class="text-gray-300">•</span>
                            <button onclick="setExample('McDonald\'s Malaysia')" class="text-sm text-primary hover:text-primary-hover font-medium">McDonald's Malaysia</button>
                        </div>
                    </div>
                </div>

                <!-- Features Preview -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12 animate-slide-up">
                    <div class="text-center text-white/80">
                        <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256">
                                <path d="M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>
                            </svg>
                        </div>
                        <h3 class="font-semibold mb-2">Instant Analysis</h3>
                        <p class="text-sm">Get comprehensive company insights in under 30 seconds</p>
                    </div>
                    <div class="text-center text-white/80">
                        <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256">
                                <path d="M128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-6.54-.67L40,216,52.47,178.6a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Z"/>
                            </svg>
                        </div>
                        <h3 class="font-semibold mb-2">Smart Conversation Starters</h3>
                        <p class="text-sm">AI-generated talking points tailored to each prospect</p>
                    </div>
                    <div class="text-center text-white/80">
                        <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256">
                                <path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"/>
                            </svg>
                        </div>
                        <h3 class="font-semibold mb-2">Multi-Source Data</h3>
                        <p class="text-sm">Website, social media, news, and review aggregation</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading State -->
    <div id="loadingSection" class="hidden min-h-screen bg-white flex items-center justify-center">
        <div class="text-center max-w-md mx-auto px-6">
            <div class="relative mb-8">
                <div class="w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse">
                    <svg class="w-10 h-10 text-primary lightning-flash" fill="currentColor" viewBox="0 0 256 256">
                        <path d="M215.79,118.17a8,8,0,0,0-5-5.66L153.18,90.9l14.66-73.33a8,8,0,0,0-13.69-7l-112,120a8,8,0,0,0,3,13l57.63,21.61L88.16,238.43a8,8,0,0,0,13.69,7l112-120A8,8,0,0,0,215.79,118.17ZM109.37,214l10.47-52.38a8,8,0,0,0-5-9.06L62,132.71l84.62-90.66L136.16,94.43a8,8,0,0,0,5,9.06l52.8,19.8Z"/>
                    </svg>
                </div>
                <div class="absolute -inset-2 bg-primary/5 rounded-full animate-ping"></div>
            </div>
            <h3 class="text-2xl font-semibold text-gray-800 mb-6">AI is analyzing...</h3>
            <div id="loadingSteps" class="space-y-4 text-left max-w-xs mx-auto">
                <div class="flex items-center space-x-3">
                    <div class="w-2 h-2 bg-success rounded-full"></div>
                    <span class="text-gray-700 text-sm">Searching company website...</span>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="w-2 h-2 bg-gray-300 rounded-full typing-indicator"></div>
                    <span class="text-gray-400 text-sm">Analyzing social media presence...</span>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                    <span class="text-gray-400 text-sm">Gathering recent news and updates...</span>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                    <span class="text-gray-400 text-sm">Generating sales insights...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Section -->
    <div id="resultsSection" class="hidden min-h-screen bg-gray-50 py-0">
        <!-- Results content will be dynamically inserted here -->
    </div>

    <script>
        let currentStep = 0;
        const steps = [
            "Searching company website...",
            "Analyzing social media presence...",
            "Gathering recent news and updates...",
            "Generating sales insights..."
        ];

        function setExample(company) {
            document.getElementById('companyInput').value = company;
        }

        async function startAnalysis() {
            const input = document.getElementById('companyInput').value.trim();
            if (!input) {
                alert('Please enter a company name or website');
                return;
            }

            // Hide search, show loading
            document.querySelector('.gradient-bg').style.display = 'none';
            document.getElementById('loadingSection').classList.remove('hidden');

            // Animate loading steps
            animateLoadingSteps();

            try {
                // Real API call to ProspectPulse backend
                console.log('🔍 Starting real analysis for:', input);

                // Parse input to extract company name and location
                const parts = input.split(',').map(s => s.trim());
                const companyName = parts[0];
                const location = parts.length > 1 ? parts.slice(1).join(', ') : '';

                const searchParams = new URLSearchParams({
                    query: companyName,
                    ...(location && { location })
                });

                console.log('Making API request to:', `/api/prospect/search?${searchParams}`);

                const response = await fetch(`/api/prospect/search?${searchParams}`);
                console.log('API response status:', response.status);

                if (!response.ok) {
                    throw new Error(`API request failed: ${response.status}`);
                }

                const data = await response.json();
                console.log('API response data:', data);

                // Show results with real data
                showResults(input, data);

            } catch (error) {
                console.error('Analysis failed:', error);

                // Show fallback demo results
                console.log('Falling back to demo data');
                showResults(input);

                // Show error notification
                setTimeout(() => {
                    const errorBanner = document.createElement('div');
                    errorBanner.className = 'fixed top-4 right-4 bg-yellow-500 text-white p-4 rounded-lg shadow-lg z-50 max-w-sm';
                    errorBanner.innerHTML = `
                        <div class="flex items-start space-x-3">
                            <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <div class="font-medium text-sm">Using Demo Data</div>
                                <div class="text-xs mt-1">API temporarily unavailable. Showing sample results.</div>
                            </div>
                            <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white hover:text-gray-200">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </div>
                    `;
                    document.body.appendChild(errorBanner);

                    // Auto-remove after 5 seconds
                    setTimeout(() => {
                        if (errorBanner.parentElement) {
                            errorBanner.remove();
                        }
                    }, 5000);
                }, 1000);
            }
        }

        function animateLoadingSteps() {
            const stepElements = document.querySelectorAll('#loadingSteps > div');

            function updateStep() {
                if (currentStep < steps.length) {
                    // Update current step to success
                    if (currentStep > 0) {
                        const prevStep = stepElements[currentStep - 1];
                        prevStep.querySelector('.w-2').className = 'w-2 h-2 bg-success rounded-full';
                        prevStep.querySelector('span').className = 'text-gray-600';
                    }

                    // Update current step to active
                    if (currentStep < stepElements.length) {
                        const currentStepEl = stepElements[currentStep];
                        currentStepEl.querySelector('.w-2').className = 'w-2 h-2 bg-warning rounded-full typing-indicator';
                        currentStepEl.querySelector('span').className = 'text-gray-600';
                        currentStepEl.querySelector('span').textContent = steps[currentStep];
                    }

                    currentStep++;
                    if (currentStep <= steps.length) {
                        setTimeout(updateStep, 1500);
                    }
                }
            }

            updateStep();
        }

        function showResults(company, apiData = null) {
            // Hide loading, show results
            document.getElementById('loadingSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');

            // Extract real data if available
            let businessData = null;
            let sources = [];
            let isRealData = false;

            if (apiData && apiData.comprehensiveData) {
                businessData = apiData.comprehensiveData.businessData;
                sources = apiData.comprehensiveData.sources || [];
                isRealData = true;
                console.log('Using real API data:', businessData);
            } else {
                console.log('Using demo data for:', company);
            }

            // Determine company info
            const companyName = businessData?.name || company;
            const companyDescription = businessData?.description ||
                `${company} is a restaurant business with strong local presence and growth potential.`;
            const founded = businessData?.founded || '2018';
            const size = businessData?.size || 'Large';
            const cuisine = businessData?.cuisine?.join(', ') || 'Fast Food';
            const priceRange = businessData?.priceRange || '$$';

            // Enhanced results with actual demo data
            document.getElementById('resultsSection').innerHTML = `
                <!-- Header with Back Button -->
                <div class="bg-white shadow-sm border-b sticky top-0 z-50">
                    <div class="max-w-6xl mx-auto px-6 py-3 flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <button onclick="location.reload()" class="flex items-center space-x-2 text-gray-600 hover:text-primary transition-colors text-sm">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 256 256">
                                    <path d="m224,128-96-96v72H32a8,8,0,0,0,0,16h96v72Z"/>
                                </svg>
                                <span>New Search</span>
                            </button>
                            <div class="h-4 w-px bg-gray-300"></div>
                            <h1 class="text-lg font-semibold text-gray-800">ProspectPulse</h1>
                        </div>
                        <div class="flex items-center space-x-3">
                            <button class="bg-primary hover:bg-primary-hover text-white px-4 py-2 rounded-md text-sm font-medium">
                                Export Report
                            </button>
                            <button class="border border-gray-300 hover:border-primary text-gray-700 hover:text-primary px-4 py-2 rounded-md text-sm font-medium">
                                Save to CRM
                            </button>
                        </div>
                    </div>
                </div>

                <div class="max-w-4xl mx-auto px-6 py-6">
                    <!-- Company Overview Card -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-6 animate-fade-in">
                        <div class="bg-gray-700 p-6 text-white">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h2 class="text-2xl font-bold mb-2">${companyName}</h2>
                                    <p class="text-gray-200 text-base">${companyDescription}</p>
                                    ${isRealData ? '<div class="mt-2 text-xs text-green-300">✅ Real-time data</div>' : '<div class="mt-2 text-xs text-yellow-300">⚠️ Demo data</div>'}
                                </div>
                                <div class="flex space-x-2">
                                    <div class="w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 256 256">
                                            <path d="M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="p-6">
                            <div class="grid grid-cols-4 gap-4">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-primary mb-1">${founded}</div>
                                    <div class="text-xs text-gray-500">Founded</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-success mb-1">${size}</div>
                                    <div class="text-xs text-gray-500">Size</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-accent mb-1">${cuisine}</div>
                                    <div class="text-xs text-gray-500">Category</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-warning mb-1">${priceRange}</div>
                                    <div class="text-xs text-gray-500">Price Range</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Insights Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <!-- Sales Conversation Starters -->
                        <div class="bg-white rounded-xl shadow-md p-5 animate-slide-up">
                            <div class="flex items-center space-x-3 mb-5">
                                <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                                        <path d="M128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-6.54-.67L40,216,52.47,178.6a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Z"/>
                                    </svg>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-800">Conversation Starters</h3>
                            </div>
                            <div class="space-y-3">
                                <div class="bg-gray-50 rounded-lg p-3 border-l-4 border-blue-500">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                            <span class="text-white text-xs font-bold">1</span>
                                        </div>
                                        <p class="text-gray-700 text-sm">"I noticed ${companyName} has been ${isRealData ? 'building a strong presence' : 'expanding rapidly'}. How are you managing POS operations across multiple locations?"</p>
                                    </div>
                                    <button class="mt-2 text-xs text-blue-500 hover:text-blue-600 font-medium">📋 Copy</button>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-3 border-l-4 border-green-500">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                            <span class="text-white text-xs font-bold">2</span>
                                        </div>
                                        <p class="text-gray-700 text-sm">"With ${companyName}'s focus on customer experience, I'd love to show you how StoreHub can optimize your omnichannel strategy."</p>
                                    </div>
                                    <button class="mt-2 text-xs text-green-500 hover:text-green-600 font-medium">📋 Copy</button>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-3 border-l-4 border-orange-500">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                                            <span class="text-white text-xs font-bold">3</span>
                                        </div>
                                        <p class="text-gray-700 text-sm">"With your focus on customer experience, our analytics could help identify peak hour optimization opportunities."</p>
                                    </div>
                                    <button class="mt-2 text-xs text-orange-500 hover:text-orange-600 font-medium">📋 Copy</button>
                                </div>
                            </div>
                        </div>

                        <!-- Objection Handling -->
                        <div class="bg-white rounded-xl shadow-md p-5 animate-slide-up" style="animation-delay: 0.1s;">
                            <div class="flex items-center space-x-3 mb-5">
                                <div class="w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                                        <path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>
                                    </svg>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-800">Objection Handling</h3>
                            </div>
                            <div class="space-y-3">
                                <div class="border border-gray-200 rounded-lg p-3">
                                    <div class="mb-2">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                            <span class="text-red-600 text-xs font-semibold">Objection:</span>
                                        </div>
                                        <p class="text-gray-700 text-xs ml-4">"We already have a POS system that works fine."</p>
                                    </div>
                                    <div>
                                        <div class="flex items-center space-x-2 mb-1">
                                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                            <span class="text-green-600 text-xs font-semibold">Response:</span>
                                        </div>
                                        <p class="text-gray-700 text-xs ml-4">"I understand your current system works. StoreHub integrates seamlessly while providing advanced analytics that can increase efficiency by 20-30%, especially for multi-location operations like yours."</p>
                                    </div>
                                    <button class="mt-2 text-xs text-blue-500 hover:text-blue-600 font-medium">📋 Copy Response</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Key Insights -->
                    <div class="bg-white rounded-xl shadow-md p-5 mb-6 animate-fade-in" style="animation-delay: 0.2s;">
                        <div class="flex items-center space-x-3 mb-5">
                            <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                                    <path d="M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-800">Key Business Insights</h3>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <h4 class="font-semibold text-green-600 mb-3 text-sm">🚀 Growth Opportunities</h4>
                                <ul class="space-y-2 text-xs text-gray-700">
                                    <li class="flex items-start space-x-2">
                                        <div class="w-1 h-1 bg-green-500 rounded-full mt-1.5 flex-shrink-0"></div>
                                        <span>Digital ordering system expansion across all locations</span>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="w-1 h-1 bg-green-500 rounded-full mt-1.5 flex-shrink-0"></div>
                                        <span>Enhanced customer analytics and loyalty programs</span>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="w-1 h-1 bg-green-500 rounded-full mt-1.5 flex-shrink-0"></div>
                                        <span>Multi-location inventory management optimization</span>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-blue-600 mb-3 text-sm">💪 Key Strengths</h4>
                                <ul class="space-y-2 text-xs text-gray-700">
                                    <li class="flex items-start space-x-2">
                                        <div class="w-1 h-1 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"></div>
                                        <span>Strong brand recognition in Southeast Asian markets</span>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="w-1 h-1 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"></div>
                                        <span>Established customer base with high loyalty</span>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="w-1 h-1 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"></div>
                                        <span>Proven track record of successful expansion</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Data Sources -->
                    <div class="bg-white rounded-xl shadow-md p-5 animate-scale-in" style="animation-delay: 0.3s;">
                        <div class="flex items-center space-x-3 mb-5">
                            <div class="w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                                    <path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-800">Data Sources Analyzed</h3>
                        </div>
                        <div class="grid grid-cols-4 gap-3">
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="w-10 h-10 bg-blue-500 rounded-full mx-auto mb-2 flex items-center justify-center">
                                    <span class="text-white text-sm">🌐</span>
                                </div>
                                <div class="font-medium text-gray-800 text-xs">Website</div>
                                <div class="text-xs text-gray-500">Company Info</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="w-10 h-10 bg-blue-700 rounded-full mx-auto mb-2 flex items-center justify-center">
                                    <span class="text-white text-sm">📘</span>
                                </div>
                                <div class="font-medium text-gray-800 text-xs">Facebook</div>
                                <div class="text-xs text-gray-500">Social Presence</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full mx-auto mb-2 flex items-center justify-center">
                                    <span class="text-white text-sm">📷</span>
                                </div>
                                <div class="font-medium text-gray-800 text-xs">Instagram</div>
                                <div class="text-xs text-gray-500">Visual Content</div>
                            </div>
                            <div class="text-center p-3 bg-gray-50 rounded-lg">
                                <div class="w-10 h-10 bg-red-500 rounded-full mx-auto mb-2 flex items-center justify-center">
                                    <span class="text-white text-sm">📰</span>
                                </div>
                                <div class="font-medium text-gray-800 text-xs">News</div>
                                <div class="text-xs text-gray-500">Recent Updates</div>
                            </div>
                        </div>
                        <div class="mt-4 p-3 ${isRealData ? 'bg-green-50 border-green-200' : 'bg-yellow-50 border-yellow-200'} border rounded-lg">
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 ${isRealData ? 'bg-green-500' : 'bg-yellow-500'} rounded-full"></div>
                                <span class="text-xs ${isRealData ? 'text-green-700' : 'text-yellow-700'} font-medium">
                                    ${isRealData ?
                                        `Analysis completed • ${sources.length} data sources analyzed` :
                                        'Demo mode • Sample data displayed'
                                    }
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Enter key support
        document.getElementById('companyInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startAnalysis();
            }
        });
    </script>
</body>
</html>
